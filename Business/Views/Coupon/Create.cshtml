@model string

@{
    ViewBag.Title = "Create Coupon";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form action="/Coupon/Create" method="post" name="form">
    <div class="FormContent" ng-controller="createCouponController">
        @*<h2 class="FormTitle">Register</h2>*@
        <div id="GeneralInput">
            <div class="InputContainer">
                <md-input-container style="text-align: left;" class="MinWidth">
                    <label>Coupon Type</label>
                    <md-select style="margin-top: 16px;" name="Type" ng-model="couponModel.type" ng-disabled="isLoading" ng-required="true">
                        <md-option ng-repeat="type in types" ng-value="type.value">
                            {{type.text}}
                        </md-option>
                    </md-select>
                    @Html.Partial("_AngularMessages", "form.Type")
                </md-input-container>
            </div>
            <div class="InputContainer">
                <md-input-container style="text-align: left; margin: 0;" class="MinWidth">
                    <label>Title</label>
                    <input type="text" ng-model="couponModel.title" name="Title" ng-required="true"/>
                    @Html.Partial("_AngularMessages", "form.Title")
                </md-input-container>
            </div>
            <div class="InputContainer">
                <md-input-container style="text-align: left; margin-top: 0;" class="MinWidth">
                    <label>Quantity</label>
                    <md-select name="QuantityOne" ng-model="couponModel.quantityOne" ng-disabled="isLoading" ng-required="true">
                        <md-option ng-repeat="quantity in quantityOptions" ng-value="quantity">
                            {{quantity}}
                        </md-option>
                    </md-select>
                    @Html.Partial("_AngularMessages", "form.QuantityOne")
                </md-input-container>
            </div>
            <div class="InputContainer">
                <md-input-container style="text-align: left; margin: 0;" class="MinWidth">
                    <label>Item One</label>
                    <input type="text" ng-model="couponModel.itemOne" name="ItemOne" ng-required="true"/>
                    @Html.Partial("_AngularMessages", "form.ItemOne")
                </md-input-container>
            </div>
            <div class="InputContainer">
                <md-input-container style="text-align: left; margin: 0;" class="MinWidth">
                    <label>Option</label>
                    <md-select ng-model="couponModel.multiplierOption" name="MultiplierOption" ng-required="true" ng-disabled="isLoading">
                        <md-option ng-repeat="multiplierOption in multiplierOptions" ng-click="changeFreeOptionInput(multiplierOption)" ng-value="multiplierOption">
                            {{multiplierOption}}
                        </md-option>
                    </md-select>
                    @Html.Partial("_AngularMessages", "form.MultiplierOption")
                </md-input-container>
            </div>
            <div ng-hide="hidePriceOptions">
                <div class="InputContainer">
                    <md-input-container style="text-align: left; margin-bottom: 0;" class="MinWidth">
                        <label>Price</label>
                        <input type="text" ng-model="couponModel.price" typ="number" ng-maxlength="3" name="Price" ng-required="!hidePriceOptions"/>
                        @Html.Partial("_AngularMessages", "form.Price")
                    </md-input-container>
                </div>
            </div>
            <div ng-hide="hideOtherOptions">
                <div class="InputContainer">
                    <md-input-container style="text-align: left;" class="MinWidth">
                        <label>Quantity</label>
                        <md-select ng-model="couponModel.quantityTwo" name="QuantityTwo" ng-required="!hideOtherOptions" ng-disabled="isLoading">
                            <md-option ng-repeat="quantity in quantityOptions" ng-value="quantity">
                                {{quantity}}
                            </md-option>
                        </md-select>
                        @Html.Partial("_AngularMessages", "form.QuantityTwo")
                    </md-input-container>
                </div>
                <div class="InputContainer">
                    <md-input-container style="text-align: left; margin: 0;" class="MinWidth">
                        <label>Item Two</label>
                        <input type="text" ng-model="couponModel.itemTwo" name="ItemTwo" ng-required="!hideOtherOptions"/>
                        @Html.Partial("_AngularMessages", "form.ItemTwo")
                    </md-input-container>
                </div>
            </div>
            <h4>Preview of your deal.</h4>
            <div class="InputContainer">
                <div class="PreviewDealTextContainer">
                    <div class="PreviewDealTitle">{{couponModel.title}}</div>
                    <div class="PreviewDealText">Get {{couponModel.quantityOne}} {{couponModel.itemOne}} {{couponModel.multiplierOption}} {{couponModel.price === '' ? '' : "$"+couponModel.price}} {{couponModel.quantityTwo}} {{couponModel.itemTwo}}</div>
                </div>
            </div>
            <div class="InputContainer">
                <div style="display: inline-block;">
                    <md-button class="Button" ng-disabled="!form.$valid" ng-click="createCoupon()" style="width: 200px; margin-bottom: 25px; margin-top: 15px;">Create Coupon</md-button>
                </div>
            </div>
        </div>
    </div>
</form>


